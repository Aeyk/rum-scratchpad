shadow$provide.module$node_modules$resolve$lib$async=function(global,require,module,exports){var process=require("module$node_modules$process$browser"),fs=require("shadow$empty"),path=require("module$node_modules$path_browserify$index"),caller=require("module$node_modules$resolve$lib$caller"),nodeModulesPaths=require("module$node_modules$resolve$lib$node_modules_paths"),normalizeOptions=require("module$node_modules$resolve$lib$normalize_options"),isCore=require("module$node_modules$is_core_module$index"),
realpathFS=fs.realpath&&"function"===typeof fs.realpath.native?fs.realpath.native:fs.realpath,defaultIsFile=function(file,cb){fs.stat(file,function(err,stat){return err?"ENOENT"===err.code||"ENOTDIR"===err.code?cb(null,!1):cb(err):cb(null,stat.isFile()||stat.isFIFO())})},defaultIsDir=function(dir,cb){fs.stat(dir,function(err,stat){return err?"ENOENT"===err.code||"ENOTDIR"===err.code?cb(null,!1):cb(err):cb(null,stat.isDirectory())})},defaultRealpath=function(x,cb){realpathFS(x,function(realpathErr,
realPath){realpathErr&&"ENOENT"!==realpathErr.code?cb(realpathErr):cb(null,realpathErr?x:realPath)})},maybeRealpath=function(realpath,x,opts,cb){opts&&!1===opts.preserveSymlinks?realpath(x,cb):cb(null,x)};module.exports=function(x$jscomp$1,options,callback$jscomp$0){function init(basedir){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(x$jscomp$1)){res=path.resolve(basedir,x$jscomp$1);if("."===x$jscomp$1||".."===x$jscomp$1||"/"===x$jscomp$1.slice(-1))res+="/";/\/$/.test(x$jscomp$1)&&res===basedir?
loadAsDirectory(res,opts.package,onfile):loadAsFile(res,opts.package,onfile)}else{if(includeCoreModules&&isCore(x$jscomp$1))return cb$jscomp$0(null,x$jscomp$1);loadNodeModules(x$jscomp$1,basedir,function(err$jscomp$0,n,pkg){if(err$jscomp$0)cb$jscomp$0(err$jscomp$0);else{if(n)return maybeRealpath(realpath,n,opts,function(err,realN){err?cb$jscomp$0(err):cb$jscomp$0(null,realN,pkg)});err$jscomp$0=Error("Cannot find module '"+x$jscomp$1+"' from '"+parent+"'");err$jscomp$0.code="MODULE_NOT_FOUND";cb$jscomp$0(err$jscomp$0)}})}}
function onfile(err$jscomp$1,m,pkg$jscomp$0){err$jscomp$1?cb$jscomp$0(err$jscomp$1):m?cb$jscomp$0(null,m,pkg$jscomp$0):loadAsDirectory(res,function(err$jscomp$0,d,pkg){err$jscomp$0?cb$jscomp$0(err$jscomp$0):d?maybeRealpath(realpath,d,opts,function(err,realD){err?cb$jscomp$0(err):cb$jscomp$0(null,realD,pkg)}):(err$jscomp$0=Error("Cannot find module '"+x$jscomp$1+"' from '"+parent+"'"),err$jscomp$0.code="MODULE_NOT_FOUND",cb$jscomp$0(err$jscomp$0))})}function loadAsFile(x$jscomp$0,thePackage,callback){function load(exts,
x,loadPackage){function onpkg(err,pkg_,dir){pkg=pkg_;if(err)return cb(err);if(dir&&pkg&&opts.pathFilter&&(err=path.relative(dir,file),err=err.slice(0,err.length-exts[0].length),err=opts.pathFilter(pkg,x,err)))return load([""].concat(extensions.slice()),path.resolve(dir,err),pkg);isFile(file,onex)}function onex(err,ex){if(err)return cb(err);if(ex)return cb(null,file,pkg);load(exts.slice(1),x,pkg)}if(0===exts.length)return cb(null,void 0,loadPackage);var file=x+exts[0],pkg=loadPackage;pkg?onpkg(null,
pkg):loadpkg(path.dirname(file),onpkg)}var cb=callback;"function"===typeof thePackage&&(cb=thePackage,thePackage=void 0);callback=[""].concat(extensions);load(callback,x$jscomp$0,thePackage)}function loadpkg(dir,cb){if(""===dir||"/"===dir||"win32"===process.platform&&/^\w:[/\\]*$/.test(dir)||/[/\\]node_modules[/\\]*$/.test(dir))return cb(null);maybeRealpath(realpath,dir,opts,function(unwrapErr,pkgdir){if(unwrapErr)return loadpkg(path.dirname(dir),cb);var pkgfile=path.join(pkgdir,"package.json");isFile(pkgfile,
function(err$jscomp$0,ex){if(!ex)return loadpkg(path.dirname(dir),cb);readFile(pkgfile,function(err,body){err&&cb(err);try{var pkg=JSON.parse(body)}catch(jsonErr){}pkg&&opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile));cb(null,pkg,dir)})})})}function loadAsDirectory(x,loadAsDirectoryPackage,callback){var cb=callback,fpkg=loadAsDirectoryPackage;"function"===typeof fpkg&&(cb=fpkg,fpkg=opts.package);maybeRealpath(realpath,x,opts,function(unwrapErr,pkgdir){if(unwrapErr)return cb(unwrapErr);var pkgfile=
path.join(pkgdir,"package.json");isFile(pkgfile,function(err$jscomp$2,ex){if(err$jscomp$2)return cb(err$jscomp$2);if(!ex)return loadAsFile(path.join(x,"index"),fpkg,cb);readFile(pkgfile,function(err$jscomp$1,body){if(err$jscomp$1)return cb(err$jscomp$1);try{var pkg$jscomp$1=JSON.parse(body)}catch(jsonErr){}pkg$jscomp$1&&opts.packageFilter&&(pkg$jscomp$1=opts.packageFilter(pkg$jscomp$1,pkgfile));if(pkg$jscomp$1&&pkg$jscomp$1.main){if("string"!==typeof pkg$jscomp$1.main)return err$jscomp$1=new TypeError("package “"+
pkg$jscomp$1.name+"” `main` must be a string"),err$jscomp$1.code="INVALID_PACKAGE_MAIN",cb(err$jscomp$1);if("."===pkg$jscomp$1.main||"./"===pkg$jscomp$1.main)pkg$jscomp$1.main="index";loadAsFile(path.resolve(x,pkg$jscomp$1.main),pkg$jscomp$1,function(err$jscomp$0,m,pkg$jscomp$0){if(err$jscomp$0)return cb(err$jscomp$0);if(m)return cb(null,m,pkg$jscomp$0);if(!pkg$jscomp$0)return loadAsFile(path.join(x,"index"),pkg$jscomp$0,cb);err$jscomp$0=path.resolve(x,pkg$jscomp$0.main);loadAsDirectory(err$jscomp$0,
pkg$jscomp$0,function(err,n,pkg){if(err)return cb(err);if(n)return cb(null,n,pkg);loadAsFile(path.join(x,"index"),pkg,cb)})})}else loadAsFile(path.join(x,"/index"),pkg$jscomp$1,cb)})})})}function processDirs(cb,dirs){function onfile(err,m,pkg){if(err)return cb(err);if(m)return cb(null,m,pkg);loadAsDirectory(dir,opts.package,ondir)}function ondir(err,n,pkg){if(err)return cb(err);if(n)return cb(null,n,pkg);processDirs(cb,dirs.slice(1))}if(0===dirs.length)return cb(null,void 0);var dir=dirs[0];isDirectory(path.dirname(dir),
function(err,isdir){if(err)return cb(err);if(!isdir)return processDirs(cb,dirs.slice(1));loadAsFile(dir,opts.package,onfile)})}function loadNodeModules(x,start,cb){var thunk=function(){for(var dirs=nodeModulesPaths(start,opts,x),i=0;i<dirs.length;i++)dirs[i]=path.join(dirs[i],x);return dirs};processDirs(cb,packageIterator?packageIterator(x,start,thunk,opts):thunk())}var cb$jscomp$0=callback$jscomp$0,opts=options;"function"===typeof options&&(cb$jscomp$0=opts,opts={});if("string"!==typeof x$jscomp$1){var err$jscomp$3=
new TypeError("Path must be a string.");return process.nextTick(function(){cb$jscomp$0(err$jscomp$3)})}opts=normalizeOptions(x$jscomp$1,opts);var isFile=opts.isFile||defaultIsFile,isDirectory=opts.isDirectory||defaultIsDir,readFile=opts.readFile||fs.readFile,realpath=opts.realpath||defaultRealpath,packageIterator=opts.packageIterator,extensions=opts.extensions||[".js"],includeCoreModules=!1!==opts.includeCoreModules;options=opts.basedir||path.dirname(caller());var parent=opts.filename||options;opts.paths=
opts.paths||[];options=path.resolve(options);maybeRealpath(realpath,options,opts,function(err,realStart){err?cb$jscomp$0(err):init(realStart)});var res}}
//# sourceMappingURL=module$node_modules$resolve$lib$async.js.map
