{
"version":3,
"file":"module$node_modules$$tonejs$piano$build$piano$Pedal.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@tonejs/piano/build/piano/Pedal.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$tonejs$piano$build$piano$Pedal\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Pedal = void 0;\n\nvar _tone = require(\"tone\");\n\nvar _Component = require(\"./Component\");\n\nvar _Util = require(\"./Util\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Pedal =\n/*#__PURE__*/\nfunction (_PianoComponent) {\n  _inherits(Pedal, _PianoComponent);\n\n  function Pedal(options) {\n    var _this;\n\n    _classCallCheck(this, Pedal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pedal).call(this, options));\n    _this._downTime = Infinity;\n    _this._currentSound = null;\n    _this._downTime = Infinity;\n    return _this;\n  }\n\n  _createClass(Pedal, [{\n    key: \"_internalLoad\",\n    value: function _internalLoad() {\n      var _this2 = this;\n\n      return new Promise(function (success) {\n        _this2._buffers = new _tone.ToneAudioBuffers({\n          down1: 'pedalD1.mp3',\n          down2: 'pedalD2.mp3',\n          up1: 'pedalU1.mp3',\n          up2: 'pedalU2.mp3'\n        }, success, _this2.samples);\n      });\n    }\n    /**\n     *  Squash the current playing sound\n     */\n\n  }, {\n    key: \"_squash\",\n    value: function _squash(time) {\n      if (this._currentSound && this._currentSound.state !== 'stopped') {\n        this._currentSound.stop(time);\n      }\n\n      this._currentSound = null;\n    }\n  }, {\n    key: \"_playSample\",\n    value: function _playSample(time, dir) {\n      if (this._enabled) {\n        this._currentSound = new _tone.ToneBufferSource({\n          url: this._buffers.get(\"\".concat(dir).concat(Math.random() > 0.5 ? 1 : 2)),\n          context: this.context,\n          curve: 'exponential',\n          fadeIn: 0.05,\n          fadeOut: 0.1\n        }).connect(this.output);\n\n        this._currentSound.start(time, (0, _Util.randomBetween)(0, 0.01), undefined, 0.1 * (0, _Util.randomBetween)(0.5, 1));\n      }\n    }\n    /**\n     * Put the pedal down\n     */\n\n  }, {\n    key: \"down\",\n    value: function down(time) {\n      this._squash(time);\n\n      this._downTime = time;\n\n      this._playSample(time, 'down');\n    }\n    /**\n     * Put the pedal up\n     */\n\n  }, {\n    key: \"up\",\n    value: function up(time) {\n      this._squash(time);\n\n      this._downTime = Infinity;\n\n      this._playSample(time, 'up');\n    }\n    /**\n     * Indicates if the pedal is down at the given time\n     */\n\n  }, {\n    key: \"isDown\",\n    value: function isDown(time) {\n      return time > this._downTime;\n    }\n  }]);\n\n  return Pedal;\n}(_Component.PianoComponent);\n\nexports.Pedal = Pedal;\n};"],
"names":["shadow$provide","global","require","module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","create","value","_setPrototypeOf","p","Pedal","_tone","_Component","_Util","_PianoComponent","options","instance","call","self","ReferenceError","_this","_currentSound","_downTime","Infinity","_internalLoad","_this2","Promise","success","_buffers","ToneAudioBuffers","down1","down2","up1","up2","samples","_squash","time","state","stop","_playSample","dir","_enabled","ToneBufferSource","url","get","concat","Math","random","context","curve","fadeIn","fadeOut","connect","output","start","randomBetween","undefined","down","up","isDown","PianoComponent"]
}
