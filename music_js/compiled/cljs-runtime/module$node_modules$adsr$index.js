shadow$provide.module$node_modules$adsr$index=function(global,require,module,exports){function scale(node){var gain=node.context.createGain();node.connect(gain);return gain}module.exports=function(audioContext){var node=audioContext.createGain(),voltage$jscomp$0=audioContext.createBufferSource();audioContext=audioContext.createBuffer(1,2,audioContext.sampleRate);audioContext.getChannelData(0).set(flat);voltage$jscomp$0.buffer=audioContext;voltage$jscomp$0.loop=!0;var voltage=node._voltage=voltage$jscomp$0;
voltage$jscomp$0=scale(voltage);audioContext=scale(voltage);voltage=scale(voltage);node._startAmount=scale(audioContext);node._endAmount=scale(voltage);node._multiplier=scale(voltage$jscomp$0);node._multiplier.connect(node);node._startAmount.connect(node);node._endAmount.connect(node);node.value=voltage$jscomp$0.gain;node.startValue=audioContext.gain;node.endValue=voltage.gain;node.startValue.value=0;node.endValue.value=0;Object.defineProperties(node,props);return node};var props={attack:{value:0,
writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(at){var target=this._multiplier.gain,startAmount=this._startAmount.gain,endAmount=this._endAmount.gain;this._voltage.start(at);this._decayFrom=at+this.attack;this._startedAt=at;var sustain=this.sustain;target.cancelScheduledValues(at);startAmount.cancelScheduledValues(at);endAmount.cancelScheduledValues(at);endAmount.setValueAtTime(0,
at);this.attack?(target.setValueAtTime(0,at),target.linearRampToValueAtTime(1,at+this.attack),startAmount.setValueAtTime(1,at),startAmount.linearRampToValueAtTime(0,at+this.attack)):(target.setValueAtTime(1,at),startAmount.setValueAtTime(0,at));this.decay&&target.setTargetAtTime(sustain,this._decayFrom,Math.log(this.decay+1)/Math.log(100))}},stop:{value:function(at,isTarget){isTarget&&(at-=this.release);isTarget=at+this.release;if(this.release){var target=this._multiplier.gain,startAmount=this._startAmount.gain,
endAmount=this._endAmount.gain;target.cancelScheduledValues(at);startAmount.cancelScheduledValues(at);endAmount.cancelScheduledValues(at);var expFalloff=Math.log(this.release+1)/Math.log(100);if(this.attack&&at<this._decayFrom){var valueAtTime=this._startedAt;valueAtTime=(at-valueAtTime)/(this._decayFrom-valueAtTime);0>=valueAtTime&&(valueAtTime=0);1<=valueAtTime&&(valueAtTime=1);target.linearRampToValueAtTime(valueAtTime,at);startAmount.linearRampToValueAtTime(1-valueAtTime,at);startAmount.setTargetAtTime(0,
at,expFalloff)}endAmount.setTargetAtTime(1,at,expFalloff);target.setTargetAtTime(0,at,expFalloff)}this._voltage.stop(isTarget);return isTarget}},onended:{get:function(){return this._voltage.onended},set:function(value){this._voltage.onended=value}}},flat=new Float32Array([1,1])}
//# sourceMappingURL=module$node_modules$adsr$index.js.map
