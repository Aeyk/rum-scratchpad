{
"version":3,
"file":"module$node_modules$$tonejs$piano$build$midi$MidiInput.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@tonejs/piano/build/midi/MidiInput.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$tonejs$piano$build$midi$MidiInput\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MidiInput = void 0;\n\nvar _events = require(\"events\");\n\nvar _webmidi = _interopRequireDefault(require(\"webmidi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar MidiInput =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(MidiInput, _EventEmitter);\n\n  function MidiInput() {\n    var _this;\n\n    var deviceId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n\n    _classCallCheck(this, MidiInput);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MidiInput).call(this));\n    _this.deviceId = deviceId;\n    /**\n     * Automatically attaches the event listeners when a device is connect\n     * and removes listeners when a device is disconnected\n     */\n\n    MidiInput.enabled().then(function () {\n      _webmidi[\"default\"].addListener('connected', function (event) {\n        if (event.port.type === 'input') {\n          _this._addListeners(event.port);\n        }\n      });\n\n      _webmidi[\"default\"].addListener('disconnected', function (event) {\n        _this._removeListeners(event.port);\n      }); // add all of the existing inputs\n\n\n      _webmidi[\"default\"].inputs.forEach(function (input) {\n        return _this._addListeners(input);\n      });\n    });\n    return _this;\n  }\n  /**\n   * Attach listeners to the device when it's connected\n   */\n\n\n  _createClass(MidiInput, [{\n    key: \"_addListeners\",\n    value: function _addListeners(device) {\n      var _this2 = this;\n\n      if (!MidiInput.connectedDevices.has(device.id)) {\n        MidiInput.connectedDevices.set(device.id, device);\n        this.emit('connect', this._inputToDevice(device));\n        device.addListener('noteon', 'all', function (event) {\n          if (_this2.deviceId === 'all' || _this2.deviceId === device.id) {\n            _this2.emit('keyDown', {\n              note: \"\".concat(event.note.name).concat(event.note.octave),\n              midi: event.note.number,\n              velocity: event.velocity,\n              device: _this2._inputToDevice(device)\n            });\n          }\n        });\n        device.addListener('noteoff', 'all', function (event) {\n          if (_this2.deviceId === 'all' || _this2.deviceId === device.id) {\n            _this2.emit('keyUp', {\n              note: \"\".concat(event.note.name).concat(event.note.octave),\n              midi: event.note.number,\n              velocity: event.velocity,\n              device: _this2._inputToDevice(device)\n            });\n          }\n        });\n        device.addListener('controlchange', 'all', function (event) {\n          if (_this2.deviceId === 'all' || _this2.deviceId === device.id) {\n            if (event.controller.name === 'holdpedal') {\n              _this2.emit(event.value ? 'pedalDown' : 'pedalUp', {\n                device: _this2._inputToDevice(device)\n              });\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_inputToDevice\",\n    value: function _inputToDevice(input) {\n      return {\n        name: input.name,\n        id: input.id,\n        manufacturer: input.manufacturer\n      };\n    }\n    /**\n     * Internal call to remove all event listeners associated with the device\n     */\n\n  }, {\n    key: \"_removeListeners\",\n    value: function _removeListeners(event) {\n      if (MidiInput.connectedDevices.has(event.id)) {\n        var device = MidiInput.connectedDevices.get(event.id);\n        this.emit('disconnect', this._inputToDevice(device));\n        MidiInput.connectedDevices[\"delete\"](event.id);\n        device.removeListener('noteon');\n        device.removeListener('noteoff');\n        device.removeListener('controlchange');\n      }\n    } // EVENT FUNCTIONS\n\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      return _get(_getPrototypeOf(MidiInput.prototype), \"emit\", this).call(this, event, data);\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, listener) {\n      _get(_getPrototypeOf(MidiInput.prototype), \"on\", this).call(this, event, listener);\n\n      return this;\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, listener) {\n      _get(_getPrototypeOf(MidiInput.prototype), \"once\", this).call(this, event, listener);\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      _get(_getPrototypeOf(MidiInput.prototype), \"off\", this).call(this, event, listener);\n\n      return this;\n    }\n    /**\n     * Resolves when the MIDI Input is enabled and ready to use\n     */\n\n  }], [{\n    key: \"enabled\",\n    value: function enabled() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (MidiInput._isEnabled) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return new Promise(function (done, error) {\n                  _webmidi[\"default\"].enable(function (e) {\n                    if (e) {\n                      error(e);\n                    } else {\n                      MidiInput._isEnabled = true;\n                      done();\n                    }\n                  });\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n    /**\n     * Get a list of devices that are currently connected\n     */\n\n  }, {\n    key: \"getDevices\",\n    value: function getDevices() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return MidiInput.enabled();\n\n              case 2:\n                return _context2.abrupt(\"return\", _webmidi[\"default\"].inputs);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    }\n  }]);\n\n  return MidiInput;\n}(_events.EventEmitter); // STATIC\n\n\nexports.MidiInput = MidiInput;\nMidiInput.connectedDevices = new Map();\nMidiInput._isEnabled = false;\n};"],
"names":["shadow$provide","global","require","module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","_possibleConstructorReturn","self","call","ReferenceError","_get","property","receiver","Reflect","get","hasOwnProperty","object","_getPrototypeOf","base","desc","getOwnPropertyDescriptor","value","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","create","_setPrototypeOf","p","MidiInput","_events","_webmidi","_interopRequireDefault","__esModule","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","_EventEmitter","deviceId","arguments","undefined","instance","_this","enabled","addListener","event","port","type","_addListeners","_removeListeners","inputs","forEach","input","device","_this2","connectedDevices","has","id","set","emit","_inputToDevice","note","concat","name","octave","midi","number","velocity","controller","manufacturer","removeListener","data","on","listener","once","off","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","_isEnabled","error","enable","stop","getDevices","_callee2","_callee2$","_context2","abrupt","EventEmitter","Map"]
}
