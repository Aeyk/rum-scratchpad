shadow$provide.module$node_modules$sample_player$lib$midi=function(global,require,module,exports){var midimessage=require("module$node_modules$midimessage$dist$index_min");module.exports=function(player){player.listenToMidi=function(input,options){var started={},opts=options||{},gain=opts.gain||function(vel){return vel/127};input.onmidimessage=function(msg){msg=msg.messageType?msg:midimessage(msg);"noteon"===msg.messageType&&0===msg.velocity&&(msg.messageType="noteoff");if(!opts.channel||msg.channel===
opts.channel)switch(msg.messageType){case "noteon":started[msg.key]=player.play(msg.key,0,{gain:gain(msg.velocity)});break;case "noteoff":started[msg.key]&&(started[msg.key].stop(),delete started[msg.key])}};return player};return player}}
//# sourceMappingURL=module$node_modules$sample_player$lib$midi.js.map
